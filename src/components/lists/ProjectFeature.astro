---
import { projectButtons, PROJECT_PATH } from '../../scripts/projects';
import ArticleDescription from '../article/ArticleDescription.astro';
import ArticleHeaderContainer from '../article/ArticleHeaderContainer.astro';
import Tags from '../article/Tags.astro';
import ItemTitle from './ItemTitle.astro';

export interface Props {
  project: {
    url: string;
    frontmatter: any;
  };
}

const { project } = Astro.props as Props;
const { title, description, tech, color } = project.frontmatter;
const [, projectId] = project.url.match(PROJECT_PATH);
const buttons = projectButtons(project.frontmatter.links, project.url);
---

<ArticleHeaderContainer
  as="article"
  class="py-10"
  buttonsClass="justify-start"
  accent={color}
  {buttons}
  backgroundImage={`./projects/${projectId}/background.jpg`}
>
  <slot name="start" />
  <ItemTitle href={project.url}>{title}</ItemTitle>
  <Tags tags={tech} />
  <ArticleDescription>{description}</ArticleDescription>
</ArticleHeaderContainer>
