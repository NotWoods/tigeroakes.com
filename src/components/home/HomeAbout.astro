---
import Image from '@11ty/eleventy-img';
import GeneratePicture from '../eleventy-img/GeneratePicture.astro';
import { imageOptions } from '../eleventy-img/options';
import Button from '../Button.astro';
import Logo from '../Logo.astro';

const metadata = await Image('src/components/home/profile.jpg', {
  ...imageOptions,
  widths: [160, 320, 640],
  formats: ['avif', 'webp', 'jpeg'],
});
const attributes = {
  alt: 'Portrait of Tiger Oakes',
  decoding: 'async',
  sizes: '10rem',
};
---

<section
  id="about"
  class="max-w-site mx-auto px-4 flex flex-wrap gap-x-20 gap-y-8 items-center"
>
  <div class="text-lg flex-1">
    <Logo outline width={320} height={64} />
    <div class="about-content">
      <slot />
    </div>
    <Button
      class="inline-block border-2 border-current"
      href="https://buttondown.email/tiger"
      >Subscribe to my newsletter
    </Button>
  </div>
  <GeneratePicture
    {metadata}
    {attributes}
    pictureClass="grow-0 shrink-0 mx-auto w-40 h-40"
    imgClass="border-4 border-slate-800 rounded-full"
  />
</section>

<style>
  .about-content > :global(p) {
    @apply decoration-slate-200 my-4;
  }
  .about-content :global(a) {
    @apply underline;
  }
</style>
