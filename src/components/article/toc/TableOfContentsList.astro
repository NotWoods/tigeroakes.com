---
import type { TreeNode } from './tree-node';

export interface Props {
  tree: readonly TreeNode[];
}

const { tree } = Astro.props as Props;
---

<ul id="table-of-contents" class="ml-3">
  {
    tree.map((node) => (
      <li class="leading-5">
        <a
          class="accent-block--left relative mb-1 block"
          href={`#${node.slug}`}
        >
          {node.text}
        </a>
        {node.children.length > 0 && <Astro.self tree={node.children} />}
      </li>
    ))
  }
</ul>
