---
import Buttons, { ButtonProps } from '../Buttons.astro';

export interface Props {
  class?: string;
  style?: string;
  accent?: string;
  backgroundImage?: string;
  buttons?: readonly ButtonProps[];
}

const {
  buttons,
  accent,
  backgroundImage,
  style = '',
  class: className,
} = Astro.props as Props;

const classes = [
  'p-8 text-slate-200 bg-center bg-cover bg-no-repeat',
];
if (backgroundImage) {
  classes.push('text-shadow');
}
if (className) {
  classes.push(className);
}

const styles = [
  accent && `--accent: ${accent}`,
  backgroundImage && `background-image: url(${backgroundImage})`,
  style,
].filter(Boolean);
---

<header
  class={classes.join(' ')}
  style={styles.length > 0 ? styles.join(';') : undefined}
>
  <slot />
  <slot name="buttons">
    {buttons && <Buttons class="text-lg" buttons={buttons} />}
  </slot>
</header>

<style>
  header {
    grid-area: header;
  }
</style>
